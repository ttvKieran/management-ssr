extends ../../layouts/default
include ../../mixins/filter-status
include ../../mixins/search
include ../../mixins/pagination
include ../../mixins/form-change-multi
include ../../mixins/alert
include ../../mixins/form-sort-multi

block main 

    +alert-success("5000")
    +alert-error("5000")
                
    //- Filter & Search
    .card.mb-3 
        h5.card-header Filters &amp; Search
        .card-body
            .row.align-items-left.justify-content-between
                .col-5
                    +filterStatus(filterStatus)
                .col-5
                    +search(keyword)
                .col-2.text-end
                    a.btn.btn-primary.text-white.fs-sm-10.p-sm-8.mb-2(
                        type='button'
                        href=`${prefixAdmin}/accounts/create`
                    )
                        span.tf-icons.bx.bx-message-alt-add.fs-sm-10.p-sm-8.d-none.d-sm-inline
                        | &nbsp; Add
    //- End Filter & Search

    //- Table product list
    .card
        //- End Change status multi product
        .table-responsive.text-nowrap
            table.table
                thead
                    tr
                        th NO.
                        th FULLNAME
                        th AVATAR
                        th PERMISSION
                        th EMAIL
                        th PHONE
                        th STATUS
                        th ACTIONS
                tbody.table-border-bottom-0
                    each item, index in accounts
                        tr
                            td
                                i.fab.fa-angular.fa-lg.text-danger.me-3
                                strong #{pagination.limit*(pagination.currentPage - 1) + index + 1}
                            td 
                                .text-dark #{item.fullname}
                            td 
                                img(
                                    src=item.avatar
                                    alt=item.fullname
                                    width="60px"
                                    height="60px"
                                )
                            td 
                                .text-dark #{item.role.title}
                            td 
                                .text-dark #{item.email}
                            td 
                                .text-dark #{item.phonenumber}
                            td
                                if(item.status=="active")
                                    span(
                                        class="badge bg-label-primary me-1 cursor-pointer" 
                                        button-change-status
                                        statusCurrent=item.status
                                        idItem=item.id
                                    ) Active
                                else 
                                    span(
                                        class="badge bg-label-warning me-1 cursor-pointer"
                                        button-change-status
                                        statusCurrent=item.status
                                        idItem=item.id
                                    ) Pending
                            td
                                .dropdown
                                    button.btn.p-0.dropdown-toggle.hide-arrow(type='button' data-bs-toggle='dropdown')
                                        i.bx.bx-dots-vertical-rounded
                                    .dropdown-menu
                                        a(
                                            class="dropdown-item cursor-pointer "
                                            href=`${prefixAdmin}/accounts/edit/${item.id}`
                                        )
                                            i.bx.bx-edit-alt.me-1
                                            |  Edit
                                        button(
                                            class="dropdown-item"
                                            button-delete
                                            idItem=`${item.id}`
                                        )
                                            i.bx.bx-trash.me-1
                                            |  Delete
    //- End Table product list

    //- Basic Pagination
    +pagination(pagination)
    //- End Basic Pagination

    //- Form change status
    form(
        action
        method="POST"
        id="form-change-status"
        path=`${prefixAdmin}/accounts/change-status`
    )
    //- End Form change status

    //- Form delete product
    form(
        action
        method="POST"
        id="form-delete"
        path=`${prefixAdmin}/accounts/delete`
    )
    //- End Form delete product

    