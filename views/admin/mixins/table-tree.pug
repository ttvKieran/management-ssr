mixin table-tree(items, level=1, page)
    each item in items
        - const prefix = Array(level+1).join("--&nbsp; ")
        tr
            if(user.role.permissions.includes(page + "_edit"))
                td 
                    input(type="checkbox" name="check-box-item" idItem=`${item.id}`)
            td
                i.fab.fa-angular.fa-lg.text-danger.me-3
                strong #{item.index}
            td 
                img(
                    src=item.thumbnail
                    alt=item.title
                    width="60px"
                    height="auto"
                )
            td 
                a.text-dark(href=`${prefixAdmin}/product-category/detail/${item.id}`) !{prefix}#{item.title}
            td 
                input(
                    type="number"
                    value=item.position 
                    style="width: 60px; text-align: center; border-radius: 10px"
                    min="1"
                    name="position"
                )
            td
                if(user.role.permissions.includes(page + "_edit"))
                    if(item.status=="active")
                        span(
                            class="badge bg-label-primary me-1 cursor-pointer" 
                            button-change-status
                            statusCurrent=item.status
                            idItem=item.id
                        ) Active
                    else 
                        span(
                            class="badge bg-label-warning me-1 cursor-pointer"
                            button-change-status
                            statusCurrent=item.status
                            idItem=item.id
                        ) Pending
                else 
                    if(item.status=="active")
                        span(
                            class="badge bg-label-primary me-1" 
                        ) Active
                    else 
                        span(
                            class="badge bg-label-warning me-1"
                        ) Pending
            td
                .dropdown
                    button.btn.p-0.dropdown-toggle.hide-arrow(type='button' data-bs-toggle='dropdown')
                        i.bx.bx-dots-vertical-rounded
                    .dropdown-menu
                        if(user.role.permissions.includes(page + "_edit"))
                            a(
                                class="dropdown-item cursor-pointer "
                                href=`${prefixAdmin}/product-category/edit/${item.id}`
                            )
                                i.bx.bx-edit-alt.me-1
                                |  Edit
                        if(user.role.permissions.includes(page + "_delete"))
                            button(
                                class="dropdown-item"
                                button-delete
                                idItem=`${item.id}`
                            )
                                i.bx.bx-trash.me-1
                                |  Delete
        if(item.children && item.children.length > 0)
            +table-tree(item.children, level+1, page)